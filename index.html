<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR/DataMatrix Scanner</title>
<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>

<style>
body {
  margin:0;
  padding:0;
  background-color:#000;
  color:white;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  align-items:center;
  height:100vh;
  font-family:Arial;
}
#reader {
  width: 200px; /* aprox 5cm */
  height: 200px; /* aprox 5cm */
  margin-bottom: 30px;
  border: 2px solid #0f0;
  border-radius:10px;
  overflow:hidden;
}
h3 {
  position:absolute;
  top:10px;
  font-size:18px;
}
</style>
</head>
<body>

<h3>Escaneo QR / DataMatrix</h3>
<div id="reader"></div>

<script>
function sonidoBeep() {
  var beep = new Audio("https://cdn.freesound.org/previews/341/341695_3248244-lq.mp3");
  beep.play();
}

function onScanSuccess(qrCodeMessage) {
  sonidoBeep();
  window.AppInventor.setWebViewString(qrCodeMessage);
}

const html5QrCode = new Html5Qrcode("reader");

html5QrCode.start(
  { facingMode: "environment" },
  { fps: 10, qrbox: 200 },
  onScanSuccess
);
</script>

</body>
</html>
